const { PrismaClient } = require("@prisma/client");
const prisma = new PrismaClient();

const disciplines = [
  "ALGORITMOS AVANCADOS",
  "ADMINISTRAÇÃO DE SISTEMAS",
  "ARQUITETURA DE SOFTWARE",
  "BANCO DE DADOS II",
  "COMPUTAÇÃO E MÚSICA",
  "ETI",
  "EMPREENDEDORISMO EM SOFTWARE",
  "GERENCIA DE REDES",
  "INTERCONEXAO DE REDES DE COMPUTADORES",
  "INTERFACE HOMEM-MÁQUINA/",
  "POI",
  "PROGRAMAÇÃO EM BANCO DE DADOS",
  "PROJETO DE REDES DE COMPUTADORES",
  "RECUP. DE INFORMAÇÃO E BUSCA NA WEB",
  "RECONHEC. DE PADROES E REDES NEURAIS",
  "SEGURANÇA DE SISTEMAS",
  "SISTEMAS DISTRIBUÍDOS",
  "SISTEMAS DE APOIO A DECISÃO",
  "VERIFICACAO E VALIDACAO DE SOFTWARE",
  "ADMINISTRACAO E EMPREENDEDORISMO",
  "DIREITO E CIDADANIA",
  "ECONOMIA",
  "INFORMATICA E SOCIEDADE",
  "INGLÊS",
  "LIBRAS",
  "LINGUA PORTUGUESA",
  "TECC(CIENCIA DE DADOS DESCRITIVA)",
  "TECC(CIENCIA DE DADOS PREDITIVA)",
  "TECC(GESTAO DE PROJETOS)",
  "TECC(GOVERNANCA DA INTERNET)",
  "TECC(HABILIDADES SOCIOEMOCIONAIS II)",
  "TECC(JOGOS DIGITAIS)",
  "TECC(PERCEPCAO COMPUTACIONAL",
  "TECC(VISUALIZAÇÃO DE DADOS)",
  "TECC(PROCESSAMENTO DE LINGUAGEM NATURAL)",
  "TECC(PROGRAMAÇÃO FUNCIONAL)",
  "TECC(PROGRAMAÇÃO PARA WEB)",
  "TECC(TRANSFORMAÇÃO DIGITAL)",
  "FUNDAMENTOS DE MATEMATICA PARA CIENCIA DA COMPUTACAO 1",
  "INTRODUCAO A COMPUTACAO",
  "LABORATORIO DE PROGRAMACAO 1",
  "PROGRAMACAO 1",
  "FUNDAMENTOS DE MATEMATICA PARA CIENCIA DA COMPUTACAO 2",
  "CALCULO 1",
  "LABORATORIO DE PROGRAMACAO 2",
  "PROGRAMACAO 2",
  "LOGICA PARA COMPUTACAO",
  "CALCULO 2",
  "LABORATORIO DE ESTRUTURA DE DADOS E ALGORITMOS",
  "ESTRUTURA DE DADOS E ALGORITMOS",
  "ALGEBRA LINEAR 1",
  "TEORIA DA COMPUTACAO",
  "INTRODUCAO A PROBABILIDADE",
  "ORGANIZACAO E ARQUITETURA DE COMPUTADORES",
  "BANCO DE DADOS 1",
  "TEORIA DOS GRAFOS",
  "PARADIGMAS DE LINGUAGENS DE PROGRAMACAO",
  "INTELIGENCIA ARTIFICIAL",
  "ESTATISTICA APLICADA",
  "SISTEMAS OPERACIONAIS",
  "PROJETO DE SOFTWARE",
  "ENGENHARIA DE SOFTWARE",
  "REDES DE COMPUTADORES",
  "PROGRAMACAO CONCORRENTE",
  "ANALISES DE SISTEMAS",
  "ANALISE E TECNICAS DE ALGORITMOS",
  "COMPILADORES",
  "METODOLOGIA CIENTIFICA",
  "PROJETO EM COMPUTACAO 1",
  "TRABALHO DE CONCLUSAO DE CURSO",
  "PROJETO EM COMPUTACAO 2",
];

function normalizeName(s) {
  return String(s).trim().toUpperCase();
}

async function main() {
  const unique = [...new Set(disciplines.map(normalizeName))];

  for (const name of unique) {
    await prisma.discipline.upsert({
      where: { name },
      update: {},
      create: { name },
    });
  }

  console.log(`✅ Seed de disciplinas concluído (${unique.length} disciplinas).`);
}

main()
  .catch((e) => {
    console.error("❌ Seed disciplines error:", e);
    process.exit(1);
  })
  .finally(async () => prisma.$disconnect());
